-- title:   Horny Diabetic Shark ADVENTURES
-- author:  axunes & nav
-- desc:    I have dibetes so i made game good
-- site:    https://axunes.net
-- license: MIT License
-- version: 0.1
-- script:  lua
function BOOT()
	music(game.area, 0, 0, true, true)

	-- if your dimension has an EVEN number of tiles -- you MUST give it an ODD offset to keep it centered!
	-- if your dimension has an ODD number of tiles -- you MUST give it an EVEN offset to keep it centered!
end

-- MATH
	function math.clamp(v, min, max) -- clamps a value
		return math.max(min, math.min(max, v))
	end

-- VECTOR
	Vector2 = {
		new = function(x, y)
			local v = {
				x = x or 0,
				y = y or 0,
			}
		
			return v
		end
	}

	Vector2.ZERO = Vector2.new()


	function Vector2.clamp(self, min, max) -- clamps two values in a vector
		return Vector2.new(
			math.clamp(self.x, min.x, max.x),
			math.clamp(self.y, min.y, max.y)
		)
	end

	function Vector2.floor(self) -- rounds down two values in a vector
		return Vector2.new(
			math.floor(self.x),
			math.floor(self.y)
		)
	end


-- GLOBALS
	current_layer = 1 -- (integer, 1 index)
	areas = {
		{ -- area 1
			layers = {
				{ -- layer 1
					size       = Vector2.new(17, 5), -- (32x32)
					map_offset = Vector2.new( 0, 0), -- (32x32)
					pos_offset = Vector2.new(10, 0)  -- (16x16, from center)
				},
				{ -- layer 2
					size       = Vector2.new( 6, 5), -- (32x32)
					map_offset = Vector2.new( 0, 0), -- (32x32)
					pos_offset = Vector2.new(23, 0)  -- (16x16, from center)
				},
			}
		}
	}

function TIC() -- main loop
	vbank(1) -- foreground mode
	
	cls()
	print("LAYER "..current_layer, 0, 0, 2)
	player:update()

	vbank(0) -- background mode
	cls()

	draw_layers(areas[game.area].layers)
end

function BDR(scanline) -- gradient
	if game.area == 1 then
		poke(0x3fc0, scanline * ((255 - 100) / 143) + 100)
		poke(0x3fc1, scanline * ((255 - 150) / 143) + 100)
		poke(0x3fc2, 200)
	elseif game.area == 2 then
		poke(0x3fc0, scanline * 0.125 + 10)
		poke(0x3fc1, 0)
		poke(0x3fc2, 20)
	end
end

function draw_layers(layers)
	for depth = #layers, current_layer, -1 do
		local layer = layers[depth]
		local ratio = math.pow(2, -depth + current_layer + math.sin(math.pi * (player.layer_falling_timer + 96) / 64) + 1)

		draw_tiles(
			math.floor(240 / 2 - player.x + layer.pos_offset.x * 16),
			math.floor(136 / 2 - player.y + layer.pos_offset.y * 16),
			layer.map_offset.x, layer.map_offset.y,
			layer.size.x, layer.size.y,
			ratio
		)
	end
end

function draw_tiles(x, y, from_x_tiles, from_y_tiles, width_tiles, height_tiles, scale)
	local width, height = width_tiles * 32, height_tiles * 32
	local from_x, from_y = from_x_tiles * 32, from_y_tiles * 32

	local u1, v1 = from_x, from_y
	local u2, v2 = width + from_x, from_y
	local u3, v3 = from_x, height + from_y
	local u4, v4 = width + from_x, height + from_y

	-- center should ALWAYS be 240/2, 136/2
	local center = Vector2.new(240//2, 136//2)

	-- to scale them evenly compare the x to the center of the screen
	fuck = Vector2.new(
		(x - width / 2 - center.x),
		(y - height / 2 - center.y)
		
	)

	cuck = Vector2.new(
		-(center.x - x - width / 2),
		-(center.y - y - height / 2)
	)

	local left_edge = center.x + fuck.x * scale
	local right_edge = center.x + cuck.x * scale
	local top_edge = center.y + fuck.y * scale
	local bottom_edge = center.y + cuck.y * scale

	local x1, y1 = left_edge, top_edge
	local x2, y2 = right_edge, top_edge
	local x3, y3 = left_edge, bottom_edge
	local x4, y4 = right_edge, bottom_edge

	ttri(x1, y1, x2, y2, x3, y3, u1, v1, u2, v2, u3, v3, 1, 0)
	ttri(x2, y2, x3, y3, x4, y4, u2, v2, u3, v3, u4, v4, 1, 0)
end

-- OBJECTS
player = {
	x = 0, -- x coor
	y = 0, -- y coor
	h = 0, -- hor speed
	v = 0, -- ver speed
	state = "Idle",
	spr_index = 256,
	anim = 0,
	flip = 0,
	size = Vector2.new(24, 32),
	layer_falling_timer = 0 -- make this like 0 - 32 or something
}

game = {
	area = 1 -- tutorial?
}

function player.update(self)
	if self.state == "Idle" then
		local layer = areas[game.area].layers[current_layer]

		local tile_pos = Vector2.new(
			(self.x - layer.pos_offset.x * 16 + layer.map_offset.x * 32 + layer.size.x * 16 - 16) // 32,
			(self.y - layer.pos_offset.y * 16 + layer.map_offset.y * 32 + layer.size.y * 16 - 16) // 32
		)

		if get_tile(tile_pos.x, tile_pos.y) == "hole" then
			self.state = "Falling"
			return
		end

		if btn(Button.Right) then
			self.h = 1
			self.v = 0
			self.spr_index = 262
			self.flip = 0
			
			if get_tile(tile_pos.x + 1, tile_pos.y) ~= "wall" then
				self.anim = 0
				self.state = "Moving"
			end
		end

		if btn(Button.Left) then
			self.h = -1
			self.v = 0
			self.spr_index = 262
			self.flip = 1
			
			if get_tile(tile_pos.x - 1, tile_pos.y) ~= "wall" then
				self.anim = 0
				self.state = "Moving"
			end
		end

		if btn(Button.Down) then
			self.h = 0
			self.v = 1
			self.spr_index = 256
			self.flip = 0
			
			if get_tile(tile_pos.x, tile_pos.y + 1) ~= "wall" then
				self.anim = 0
				self.state = "Moving"
			end
		end

		if btn(Button.Up) then
			self.h = 0
			self.v = -1
			self.spr_index = 256
			self.flip = 0
			
			if get_tile(tile_pos.x, tile_pos.y - 1) ~= "wall" then
				self.anim = 0
				self.state = "Moving"
			end
		end
	end

	if self.state == "Moving" then
		self.anim = self.anim + 2
		self.x = self.x + (2 * self.h)
		self.y = self.y + (2 * self.v)
		if self.anim == 32 then
			self.anim = 0
			self.state = "Idle"
		end
	end

	if self.state == "Falling" then
		self.layer_falling_timer = self.layer_falling_timer + 1
		if self.layer_falling_timer == 32 then
			current_layer = current_layer + 1
			self.layer_falling_timer = 0
			self.state = "Idle"
		end
	end

	-- render
	local jump_height_offset = math.sin(self.anim/32*math.pi) * -8

	spr(self.spr_index                                           , 240/2 - self.size.x / 2, 136/2 - self.size.y / 2 + jump_height_offset - 8, 0, 1, self.flip, 0, 3, 2)
	spr(self.spr_index + 3 * (self.anim > 0 and 1 or 0 ) + (16*2), 240/2 - self.size.x / 2, 136/2 - self.size.y / 2 + jump_height_offset + 8, 0, 1, self.flip, 0, 3, 2)

end

function get_tile(x, y)
	local tiles = { -- id of top left 8x8 tile of the 32x32 tiles
		[0] = "wall",
		[16] = "ground",
		[20] = "wall",
		[24] = "ground",
		[28] = "hole",
		[80] = "ground",
	}

	return tiles[mget(x * 4, y * 4)]
end
-- OTHER
	function sound_test()
			if btn(Button.A) then freq = freq - 1 end
			if btn(Button.B) then freq = freq + 1 end

			if btnp(Button.C) then vol = vol - 1 end
			if btnp(Button.D) then vol = vol + 1 end

			print(freq, 0,0)
			print(vol,0,16)

			--music
			poke4(0xff9d*2+1, vol)   -- vol
			poke4(0xff9d*2, freq>>8) -- freq hi
			poke(0xff9c, freq&0xff)  -- freq lo

			poke_waveform(0xff9e, wave1)
		end

-- SOUND
	function poke_waveform(address, data)
			-- update this so parameters are: (channel, wave)
			for i,v in ipairs(data)
			do
				poke4(address*2+i-1, v)
			end
		end

Button = {
		Up    = 0,
		Down  = 1,
		Left  = 2,
		Right = 3,
		A     = 4,
		B     = 5,
		C     = 6,
		D     = 7
	}

-- MUSIC STUFF
	freq = 0
	vol  = 0

-- WAVEFORM DATA
	wave1 = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15}

-- <TILES>
-- 016:3211311631757222737424122511222311552224321313411126342122313121
-- 017:1332333312254213232561733323413312122633213512632313167321121613
-- 018:3211311631757222737424122511222311552224321313411126342122313121
-- 019:1332333312254213232561733323413312122633213512632313167321121613
-- 024:3211311631757222737424122511222332113116317572227374241225112223
-- 025:1332333312254213232561733323413313323333122542132325617333234133
-- 026:3211311631757222737424122511222332113116317572227374241225112223
-- 027:1332333312254213232561733323413313323333122542132325617333234133
-- 028:666666666555555565ffffff65fddddd65fd000065fd000065fd000065fd0000
-- 029:6666666655555555ffffffffdddddddd00000000000000000000000000000000
-- 030:6666666655555555ffffffffdddddddd00000000000000000000000000000000
-- 031:6666666655555556ffffff56dddddf560000df560000df560000df560000df56
-- 032:2122121232121733351626323175336141223256223332342241212234121351
-- 033:1223226222234213231351334221227314122325122333236224121223412135
-- 034:2122121232121733351626323175336161767741413224222633322212641234
-- 035:1223226222234213231351334221227322325617333234134121226312135126
-- 036:000000000c000c00bbb0bbb0aaaaaaaaa9090909a0909090a9090909a0909090
-- 037:000000000c000c00bbb0bbb0aaaaaaaa09090909909090900909090990909090
-- 038:000000000c000c00bbb0bbb0aaaaaaaa09090909909090900909090990909090
-- 039:000000000c000c00bbb0bbb0aaaaaaaa0909090a9090909a0909090a9090909a
-- 040:1155222432131341112634212231312121221212321217333516263231753361
-- 041:1212263321351263231316732112161312232262222342132313513342212273
-- 042:1155222432131341112634212231312121221212321217333516263231753361
-- 043:1212263321351263231316732112161312232262222342132313513342212273
-- 044:65fd000065fd000065fd000065fd000065fd000065fd000065fd000065fd0000
-- 047:0000df560000df560000df560000df560000df560000df560000df560000df56
-- 048:4212313131757222737424122511222311552224321313411126342122313121
-- 049:6421231313412135242123133323413312122633213512632313167321121613
-- 050:1671234214212421167424122511222311552224321313411126342122313121
-- 051:1231316723131673232561733323413312122633213512632313167321121613
-- 052:a9090909a0909090a9090909a0909090a9090909a0909090a9090909a0909090
-- 053:0909090990909090090909099090909009090909909090900909090990909090
-- 054:0909090990909090090909099090909009090909909090900909090990909090
-- 055:0909090a9090909a0909090a9090909a0909090a9090909a0909090a9090909a
-- 056:4122325622333234224121223412135142123131317572227374241225112223
-- 057:1412232512233323622412122341213564212313134121352421231333234133
-- 058:6176774141322422263332221264123416712342142124211674241225112223
-- 059:2232561733323413412122631213512612313167231316732325617333234133
-- 060:65fd000065fd000065fd000065fd000065fd000065fd000065fd000065fd0000
-- 063:0000df560000df560000df560000df560000df560000df560000df560000df56
-- 064:21221212321217333516263231753361c6667753bc333335abcccccc99999999
-- 065:122322622223421323135133422122733623377c126316cbccccccba99999999
-- 066:21221212321217333516263231753361c6667753bc333335abcccccc99999999
-- 067:122322622223421323135133422122733623377c126316cbccccccba99999999
-- 068:a9090909a0909090a9090909a0909090a9090909a0909090a9090909aaaaaaaa
-- 069:09090909909090900909090990909090090909099090909009090909aaaaaaaa
-- 070:09090909909090900909090990909090090909099090909009090909aaaaaaaa
-- 071:0909090a9090909a0909090a9090909a0909090a9090909a0909090aaaaaaaaa
-- 072:1155222432131341112634212231312121221212321217333516263231753361
-- 073:1212263321351263231316732112161312232262222342132313513342212273
-- 074:1155222432131341112634212231312121221212321217333516263231753361
-- 075:1212263321351263231316732112161312232262222342132313513342212273
-- 076:65fd000065fd000065fd000065fd000065fddddd65ffffff6555555566666666
-- 077:00000000000000000000000000000000ddddddddffffffff5555555566666666
-- 078:00000000000000000000000000000000ddddddddffffffff5555555566666666
-- 079:0000df560000df560000df560000df56dddddf56ffffff565555555666666666
-- 080:cccccccccdddddddcdddddddcdddddddcddddddecddddeeecddddeeecddddeee
-- 081:ccccccccddddddddddddddddedddddddededeeedeededeeeeeeeffeefffffeef
-- 082:ccccccccddddddddddddddddddeeddeeeeeddeeeeedededdeffeeeeeeffeeeff
-- 083:ccccccccdddddddcdddddddcdddddddceddddddceddddddceededddceeeeeddc
-- 096:cddedeeecdddeeeecddedeeecddeddefcddddeeecddedeffcddeeeefcdddedef
-- 097:feffeffffeffffffffffffffffefefffffffffffffffffffffffffffffffffff
-- 098:fefeeeeefffeefeffffffffeffffffeffffffffffffffffffffffffffffffffe
-- 099:edededdceeeeeddceeeedddceeeedddceeeedddceeeeeddceeeedddceeeddedc
-- 112:cddeeeffcdddeeefcddedfefcdddeeefcddeeeffcdddeeefcddeeeeecdddeeee
-- 113:ffffffffffffffffffffffffffffffffffffffffeeffffffeeeffffffffffefe
-- 114:ffffffffffffffffffffffeffffffffeffffeffffffffefffffefffffeffffee
-- 115:eeddeddcfeeeeddceeeeeddcfeeedddcffeedddcfeeedddcfeeedddceeeedddc
-- 128:cddddeeecdddddeecddddeeecdddedeecdddddddcdddddddcdddddddcccccccc
-- 129:efefffefeeeefeefeeeeeeeeddeeeeeeedddddddddddddddddddddddcccccccc
-- 130:eefeeefffeeeeeeeeeedeeddddeddeddddddddddddddddddddddddddcccccccc
-- 131:eeeddddceededddcdddddddceddddddcdddddddcdddddddcdddddddccccccccc
-- </TILES>

-- <SPRITES>
-- 000:0000000000000000000000ff00000fbb0000fbcc000fbedd000fffed0000f8ce
-- 001:00ffff00ff9999ffaaaaaaaabbaaaabbcbbbbbbcdcbbbbcdddccccddddccccdd
-- 002:0000000000000000ff000000bbf00000ccbf0000ddebf000defff000ec8f0000
-- 003:0000000000000000000000ff00000fbb0000fbcc000fbedd000fffed0000f8ce
-- 004:00ffff00ff9999ffaaaaaaaabbaaaabbcbbbbbbcdcbbbbcdddccccddddccccdd
-- 005:0000000000000000ff000000bbf00000ccbf0000ddebf000defff000ec8f0000
-- 006:00000000fffff000fccccffffcccccccfccccccd0fcccddc00fcdccc000fddcc
-- 007:0000000000000000f0000000cfffffffdcfeeccbcce8cecccce8dceccce8fccc
-- 008:000000000000000000000000fff00000baafff00bbbaacf0ccccccffcccfff8f
-- 009:00000000fffff000fccccffffcccccccfccccccd0fcccddc00fcdccc000fddcc
-- 010:0000000000000000f0000000cfffffffdcfeeccbcce8cecccce8dceccce8fccc
-- 011:000000000000000000000000fff00000baafff00bbbaacf0ccccccffcccfff8f
-- 016:0000f8bd0000f8fd0000f8fd0000ffdd000fefbc000feffb00feeef90feeeeff
-- 017:cddddddcccddddccdccccccdbbbccbbbbbbbbbbbaabbbbaa9aaaaaa99d9999d9
-- 018:db8f0000df8f0000df8f0000ddff0000cbfef000bffef0009feeef00ffeeeef0
-- 019:0000f8bd0000f8fd0000f8fd0000ffdd000fefbc000feffb00feeef90feeeeff
-- 020:cddddddcccddddccdccccccdbbbccbbbbbbbbbbbaabbbbaa9aaaaaa99d9999d9
-- 021:db8f0000df8f0000df8f0000ddff0000cbfef000bffef0009feeef00ffeeeef0
-- 022:000fdcdc000fddcd000fdddc000feddd000eeeee0000feee0000feee0000feee
-- 023:cce8fcccccccccffdffffff8ccf88f88ddddffffefffffffeeeeeeefeeeeeeee
-- 024:cfff88f0f88f8f00f88ff000fff00000ff000000f0000000f0000000ef000000
-- 025:000fdcdc000fddcd000fdddc000feddd000eeeee0000feee0000feee0000feee
-- 026:cce8fcccccccccffdffffff8ccf88f88ddddffffefffffffeeeeeeefeeeeeeee
-- 027:cfff88f0f88f8f00f88ff000fff00000ff000000f0000000f0000000ef000000
-- 032:0fddeeeffdddeeeefdddeeee0fddeeee00fddeee00fdddee000fbcee000fcbcb
-- 033:f999999fffffffffeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
-- 034:feeeddf0eeeedddfeeeedddfeeeeddf0eeeddf00eedddf00eecbf000bcbcf000
-- 035:0fddeeeffdddeeeefdddeeee0fddeeee00fddeee00fdddee000fdeee000feded
-- 036:f999999fffffffffeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
-- 037:feeeddf0eeeedddfeeeedddfeeeeddf0eeeddf00eedddf00eecbf000bcbcf000
-- 038:0000feee0000feee0000feee0000ffee0000ffff0000fffc0000fffb0000000f
-- 039:eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeefeeeeeefbffffffccbcbcbfbbcbcbcfc
-- 040:eef00000eef00000eef00000eef00000fff00000bcf00000cbf00000bf000000
-- 041:0000feee0000feee0000feee0000ffee0000000f000000bf00000fbb0000ffbb
-- 042:eeeeeeeeeeeeeeeeeeeeeeeefeeeeeeeffaeeeecffffffbbfcffaffcfcbeecfb
-- 043:eef00000eef00000eef00000fef00000bff00000fff00000cf000000cbff0000
-- 048:000fbcbc000fcbcb000fbcbc000fdbcb000dbaaa000dbaaa000fbbbb0000ffff
-- 049:bcbccbcbcbcbbcbcbcffffcbcbf00fbcbdf00fdbbdf00fdbbf0000fbff0000ff
-- 050:cbcbf000bcbcf000cbcbf000bcbdf000aaabd000aaabd000bbbbf000ffff0000
-- 051:000fdede000feded000fcccc0000ffff00000000000000000000000000000000
-- 052:deffcbcbecfbbcbccff0ffbcff000fdb00000fdb000000fb000000ff00000000
-- 053:cbcbf000bcbcf000bcbdf000aaabd000aaabd000bbbbf000ffff000000000000
-- 054:0000fbcb0000fffc0000ffff0000fccb0000fccc0000fccc0000ffff00000000
-- 055:cbcbcbfbbcbcbcfcffffffffbbaaaaebcbbbbaaecccbbaaeffffffff00000000
-- 056:cf000000bf000000ff000000baf00000cbaf0000cbaf0000ffff000000000000
-- 057:000ffffb00fccffb0fcccbff00fcccbf000fccba0000fccb00000fc000000000
-- 058:bbbfecbfccbcbcbfccb00cfffb0000faf000000b0000000b0000000000000000
-- 059:ffb00f00fbcbbff0eaecff00aaeff000baf00000bf000000f000000000000000
-- </SPRITES>

-- <MAP>
-- 000:415161714151617141516171415161714151617141516171415161714151617100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 001:425262724252627242526272425262724252627242526272425262724252627200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 002:435363734353637343536373435363734353637343536373435363734353637300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 003:445464744454647444546474445464744454647444546474445464744454647400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 004:8191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 005:8292a2b28292a2b28292a2b28292a2b28292a2b28292a2b28292a2b28292a2b200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 006:8393a3b38393a3b38393a3b38393a3b38393a3b38393a3b38393a3b38393a3b300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 007:8494a4b48494a4b48494a4b48494a4b48494a4b48494a4b48494a4b48494a4b400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 008:8191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b100000000000000000000000000000000000000000000000005152535051525350515253500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 009:8292a2b28292a2b28292a2b28292a2b28292a2b28292a2b28292a2b28292a2b200000000000000000000000000000000000000000000000006162636061626360616263600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 010:8393a3b38393a3b38393a3b38393a3b38393a3b38393a3b38393a3b38393a3b300000000000000000000000000000000000000000000000007172737071727370717273700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 011:8494a4b48494a4b48494a4b48494a4b48494a4b48494a4b48494a4b48494a4b400000000000000000000000000000000000000000000000008182838081828380818283800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 012:8191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b105152535051525350515253505152535051525350515253505152535c1d1e1f10515253500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 013:8292a2b28292a2b28292a2b28292a2b28292a2b28292a2b28292a2b28292a2b206162636061626360616263606162636061626360616263606162636c2d2e2f20616263600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 014:8393a3b38393a3b38393a3b38393a3b38393a3b38393a3b38393a3b38393a3b307172737071727370717273707172737071727370717273707172737c3d3e3f30717273700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 015:8494a4b48494a4b48494a4b48494a4b48494a4b48494a4b48494a4b48494a4b408182838081828380818283808182838081828380818283808182838c4d4e4f40818283800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 016:011121310111213101112131011121310111213101112131011121310111213100000000000000000000000000000000000000000000000005152535051525350515253500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 017:021222320212223202122232021222320212223202122232021222320212223200000000000000000000000000000000000000000000000006162636061626360616263600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 018:031323330313233303132333031323330313233303132333031323330313233300000000000000000000000000000000000000000000000007172737071727370717273700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 019:041424340414243404142434041424340414243404142434041424340414243400000000000000000000000000000000000000000000000008182838081828380818283800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- </MAP>

-- <WAVES>
-- 000:012345678abcdeefeedcba9877654331
-- 001:8bdca879befda75689a8520146875324
-- 002:0123456789abc2234123456789abcdef
-- 003:ff00ff00ff00ff00ff00ff00ff00ff00
-- 004:f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0
-- 005:789abcdeffdca9764210002234566777
-- 006:ffffffffd10000000000000000110110
-- </WAVES>

-- <SFX>
-- 000:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040b400000000
-- 001:0100110011002100310041004100510051005100610061007100710071007100810f810d810c910d910ea10fb100b101c102d103d104e103e102e1003170000000ff
-- 002:b300a40093108310735053504380338043c043c05380638073509350c310f310f300f300f300f300f300f300f300f300f300f300f300f300f300f3009754020f0f00
-- 003:05070507050605052505250425033503350335024501450155014501550075006500650095007500a5009500a500c500d500e50fe50ff50fe50ff50f835000000000
-- 004:cf00df00ef00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00465000000000
-- 005:e600e600e600e600e600e600e600d600d600d600c600c600c600c600c600c600c600c600c600b600b600b600b600b600a600a600a60096009600a600304400000000
-- 006:e100d140c160b190a16091408100710081009100a100b100c100d100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f1005624000e0600
-- 007:bf00cf00ef00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00405000000000
-- 010:270827f827f037073707370747074707570757076700770077007700770087008700870097009700a700b700b700c700c700c700d700e700e700f700c32000002131
-- 015:25003530457055a065e0757065a0553045703500553045003500250005000500050005000500050005000500050005000500050005000500050005004720000a4801
-- </SFX>

-- <PATTERNS>
-- 000:c00416000000f00016000000600018000000a00018000000d00018000000c00018000000800018000000800016000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 001:800002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f00000000000000000000000800002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 002:400030800004000000000000800004000000807402000000400430600004000000000000800004000000600004000000d00002000000000000000000e00002000000000000000000f00002000000000000000000600004000000000000000000000000000000000000000000000000000000800004000000000000000000000000000000c00002000000000000000000000000000000000000000000000000000000800004000000000000000000000000000000800002000000000000000000
-- 003:600068000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 004:900018a00018000010000000800018000000600018000000000010000000d00018000000f00018000000b00018c00018000000000000d00018000000e00018000000f0001800000000001000000060001a00000070001a00000080001a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 005:600018800018a00018c00018f0001880001aa0001a80001a60001a80001aa0001ab0001ac0001a000000f0001a000000000000000000000000000000a0001a90001aa0001a90001aa0001a00000000000000000060001a000000000000000000000000000000000000000000a0001a00000000000000000060001a000000000000000000a0001a000000000000000000000000000000000000000000c0001ad0001a000000000000000000000000000000000000c0001a000000000000000000
-- 006:80001a000000804416000000800018000000a00018000000c00016000010a00018000010600018000010a00018000000800018000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 007:50001a000000000000000000000000000000c00018000010000000000000000000000000500018000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f00018000000000000000000000000000000b00018000000000000000000000000000000700018000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 008:c00018000000000000000000000000000000800018000000000000000000000000000000500018000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700018000000000000000000000000000000f00016000000000000000000000000000000a00016000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 009:50001a000000000000000000000000000000c00018000010000000000000000000000000500018000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f00018000000000000000000000000000000b00018000000000000000000000000000000700018000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 010:c00018000000000000000000000000000000800018000000000000000000000000000000500018000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700018000000000000000000000000000000f00016000000000000000000000000000000a00016000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 011:50001a000000d00018000000800018000010500018000000d00016000000500018000000f00018000000a00018000010800018000010700018000000f00016000000700018000000800018000000700018000000500018000000c00016000000800016000000c00016000000800018000000a00018000000800018000000000000000000700018000000000000050300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 012:d00016000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 013:50001a000000000000000000000000000000000010000010000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000010000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 014:50001a000000000000000000000000000000000010000010000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000010000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 015:40007c00000040007c00000040004e00000040007c00000040004800000040007c00000040004e00000040007c00000040007c00000040007c00000040004e00000040007c00000040004800000040007c00000040004e00000040007c00000040003000000040007c00000040007c00000040004e00000040007c00000040004800000040007c00000040004e00000040007c00000040007c00000040007c00000040004e00000040007c00000040004800000040007c00000040004e000000
-- 016:500002100000000000000000000000000000500002100000500004000000000000000000500002100000000000000000100000000000500002100000000000000000500002000000500004000000000000000000500002100000000000000000000000000000500002100000500004000000000000000000500002100000000000000000100000000000500002100000000000000000500002000000500004000000000000000000000000000000000000000000000000000000000000000000
-- 017:d00002100000000000000000000000000000d00002100000d00004000000000000000000d00002100000000000000000100000000000d00002100000000000000000d00002000000d00004000000000000000000f00002100000000000000000000000000000f00002100000f00004000000000000000000f00002100000000000000000100000000000f00002100000000000000000f00002000000f00004000000000000000000000000000000000000000000000000000000000000000000
-- 018:d00002100000d00002100000d00004000000000000000000d00002000000000000000000f00002100000f00002100000f00004000000000000000000f00002000000000000000000500002100000500002100000500004000000000000000000500002000000000000000000500002100000500002100000700006000000800006000000700006000000f00004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 019:d00002100000d00002100000d00004000000000000000000d00002000000000000000000400004100000400004100000400006000000000000000000400004000000000000000000500002100000500002100000500004000000000000000000500002000000000000000000500002100000500002100000700006000000800006000000700006000000f00004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 020:50025a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f00058000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 021:c00058000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00058000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 022:c00058000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a00058000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 023:800058000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700058000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 024:859256000050000000000000000000000000000000000000000000000000000000000000a00056000000000000000000000000000000000000000000000050000000000000000000c58256000000000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 025:859256000050000000000000000000000000000000000000000000000000000000000000a69256000000000000000000000000000000000000000000000050000000000000000000849256000000000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 043:a00006000000000000000000d00006000000000000000000f00006000000500008000000f00006000000000000800008c00008000000a00008000000d00008c00008000000500008a00008000000f0000800000050000a000000d00008c00008a00008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 056:800016000000000000000000800016000000000000000000800016000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 057:a00016000010000000000000a00016000000000000000000a00016000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 058:d00016000010000010000000d00016000000000000000000c00016000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 059:100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- </PATTERNS>

-- <TRACKS>
-- 001:18000f1800001c00115c00116c00117c00110000000000000000000000000000000000000000000000000000000000000000ff
-- 004:844595984716a44595b84716cc491fd05a10e44595f84716000000000000000000000000000000000000000000000000e18000
-- </TRACKS>

-- <PALETTE>
-- 000:1a1c2c7ef97446e78200cc7b00bc8000a186008b831c5b95bbd5e29bc0ed7996d66f7bbc5560a1534a95514081483962
-- 001:1a1c2c7d00ce6900b65500d2480499ffda59ffb764257179ffffff23baff18a2e0117dad046695004970002c47001729
-- </PALETTE>

